---
---

# 고민이 필요한 지점

<v-clicks>

- 렌더링/네트워크 에러 처리

  - 적절한 에러 바운더리 사용으로 처리

- CSS/JS/폰트 리소스 프리로딩과 코드 스플리팅

  - `ReactDOM.preload`을 사용하거나, 비동기 렌더링되는 컴포넌트 내부에서 CSS/JS/폰트 등의 리소스를 참조하면 리액트가 자동으로 스트리밍 과정에서 로딩해 줌!

- CSS-in-JS

  - `<head>`에 스타일을 삽입하는 방식 대신, 인라인 `<style>` 태그를 삽입하는 방식이 가장 적합함
  (스타일이 렌더링 결과물과 함께 같이 스트리밍될 수 있으니)

  - Atomic CSS (TailwindCSS 등) 라이브러리 사용 시 별도로 신경쓸 것 없음!

</v-clicks>

<!--
스트리밍 SSR을 실제로 도입하기 위해선 몇 가지 고민해야 할 지점들이 존재하는데요,

먼저 렌더링과 네트워크 요청 과정에서 발생하는 에러를 처리하는 방법인데,
이는 적절한 에러 바운더리의 사용으로 처리하는 것이 가장 바람직한 방법입니다.

또한 퍼포먼스를 위해 CSS나 JS, 폰트 등의 리소스를 프리로딩하거나 코드 스플리팅을
진행하고 싶은 경우도 있을 텐데요, 스트리밍 SSR이 최초에 출시되었을 때에는 이 부분에
어려움이 있었으나, 현재는 ReactDOM.preload 등의 API를 사용하거나, 비동기 렌더링되는
컴포넌트 내부에서 각종 리소스를 참조하면 리액트가 자동으로 스트리밍 과정에서 로딩해 주도록
각종 개선 사항이 실험 버전에 들어가 있는 상태입니다.

styled-components나 Stitches 등의 CSS-in-JS 솔루션을 사용하시는 분들도 많을 텐데요,
CSS-in-JS의 경우 일반적으로 head 안에 스타일을 삽입하는 방식으로 구현되나,
이 대신 인라인 스타일 태그를 삽입하는 방식이 스타일을 렌더링 결과물과 함께 같이
스트리밍해 보낼 수 있다는 점에서 가장 적합합니다. 다만 해당 방식을 지원하는
CSS-in-JS 라이브러리가 무엇이 있는지는 미처 조사해보지 못해 알려드리기는 힘들 것 같네요.
사실 저는 꽤 오랜 기간 동안 TailwindCSS 등의 Atomic CSS 라이브러리만 사용해 왔었는데,
이 경우에는 별도로 신경쓸 것이 없다 보니 잘 찾아보지 않은 경향이 있습니다!
만약 CSS-in-JS 라이브러리를 스트리밍 SSR과 함께 사용하시길 희망하시는 분이 계신다면,
실제로 적용하기 전에 해당 라이브러리가 스트리밍 SSR을 지원하는지 꼭 살펴보시길 권장드립니다.
-->
